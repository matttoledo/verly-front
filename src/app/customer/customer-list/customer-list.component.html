<div class="flex justify-content-center flex-wrap">
  <div class="absolute shadow-4 mt-4">
    <p-table
      [value]="customers"
      *ngIf="customers$ | async as customers"
      dataKey="id"
      editMode="row"
      responsiveLayout="scroll"
    >
      <ng-template pTemplate="caption"> Clientes </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>Nome</th>
          <th>Rua</th>
          <th>Complemento</th>
          <th>Bairro</th>
          <th>Celular</th>
          <th>Telefone</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template
        pTemplate="body"
        let-customer
        let-editing="editing"
        let-ri="rowIndex"
      >
        <tr [pEditableRow]="customer">
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="customer.name" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.name }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input
                  pInputText
                  type="text"
                  [(ngModel)]="customer.address.logradouro"
                />
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.address.localidade }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input
                  pInputText
                  type="text"
                  [(ngModel)]="customer.address.complemento"
                />
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.address.complemento }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input
                  pInputText
                  type="text"
                  [(ngModel)]="customer.address.bairro"
                />
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.address.bairro }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <p-inputMask
                  mask="(99) 99999-9999"
                  pInputText
                  type="text"
                  [(ngModel)]="customer.phone.one"
              ></p-inputMask>
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.phone.one }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td>
            <p-cellEditor>
              <ng-template pTemplate="input">
                <p-inputMask
                  mask="(99) 99999-9999"
                  pInputText
                  type="text"
                  [(ngModel)]="customer.phone.two"
                ></p-inputMask>
              </ng-template>
              <ng-template pTemplate="output">
                {{ customer.phone.two }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td style="text-align: center">
            <button
              *ngIf="!editing"
              pButton
              pRipple
              type="button"
              pInitEditableRow
              icon="pi pi-pencil"
              (click)="onRowEditInit(customer)"
              class="p-button-rounded p-button-text"
            ></button>
            <button
              *ngIf="editing"
              pButton
              pRipple
              type="button"
              pSaveEditableRow
              icon="pi pi-check"
              (click)="onRowEditSave(customer)"
              class="p-button-rounded p-button-text p-button-success p-mr-2"
            ></button>
            <button
              *ngIf="editing"
              pButton
              pRipple
              type="button"
              pCancelEditableRow
              icon="pi pi-times"
              (click)="onRowEditCancel(customer, ri)"
              class="p-button-rounded p-button-text p-button-danger"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
